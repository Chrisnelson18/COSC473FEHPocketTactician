<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>View Heroes</title>
  </head>
  <script type="text/javascript">
    /*
     * this function sends an AJAX XMLHttpRequest to our JSON data to load it into the page
     * once it's in the page we can do stuff with it like displaying all available Heroes
     * TODO: rewrite JSON so it parses properly
    */
    function loadData () {
      const request = new XMLHttpRequest();
      request.open('GET', 'data/heroes.json');
      request.onload = () => {
        const data = JSON.parse(request.responseText);
        displayData(data);
        console.warn("Failed to parse Hero data");
        //console.log(request.responseText);
      };
      request.send();
    }
    /*
     * function for displaying data after it's been read in
     * currently just displays read data into the console (press F12 in firefox or chrome)
    */
    function displayData(data) {
      console.log(data);
    }
    //Runs loadData() function as soon as page is loaded
    document.addEventListener("DOMContentLoaded", () => {loadData(); });
  </script>
  
  <body>
    Press F12 to see if data loading worked
  </body>
</html>