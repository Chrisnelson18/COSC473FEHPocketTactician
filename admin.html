<!DOCTYPE html>
<html>
  <head>
    <title>FEH Pocket Tactician - Admin Page</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="admin.css">
    <script type="text/javascript">
      function genHeroStatsFields() {
        var field = document.getElementById("hRarity")
        var rarity = field.options[field.selectedIndex].value;
        var s = "";
        for (var i = 5; i >= rarity; i--) {
          s += "<tr><td>"+i+" Star Level 1</td>";
          s += "<td><input id=\"hp" + i + "l1\" type=\"number\" required></td>";
          s += "<td><input id=\"atk" + i + "l1\" type=\"number\" required></td>";
          s += "<td><input id=\"spd" + i + "l1\" type=\"number\" required></td>";
          s += "<td><input id=\"def" + i + "l1\" type=\"number\" required></td>";
          s += "<td><input id=\"res" + i + "l1\" type=\"number\" required></td>";
          s += "<tr><td>" + i + " Star Level 40</td>";
          s += "<td><input id=\"hp" + i + "l40\" type=\"number\" required></td>";
          s += "<td><input id=\"atk" + i + "l40\" type=\"number\" required></td>";
          s += "<td><input id=\"spd" + i + "l40\" type=\"number\" required></td>";
          s += "<td><input id=\"def" + i + "l40\" type=\"number\" required></td>";
          s += "<td><input id=\"res" + i + "l40\" type=\"number\" required></td>";
        }
        document.getElementById("hStatsBody").innerHTML = s;
      }
      function show(id) {
      /* TODO: Fix: var in for loop is null on body load for some reason?
        var e = document.getElementById(id);
        var divs = document.getElementsByClassName("hideable");
        console.log(divs);
        for(var x in divs) {
          x.style.border = "5px solid red";
        }
        //e.style.border = "5px solid red";*/
      }
      function init() {
        show("addHero");
        genHeroStatsFields();
      }
    </script>
  </head>
  <body onload="init()">
    <a href="./index.html"><input type="submit" value="Return"></a>
    <input type="submit" value="Add a Hero" onclick="show('addHero')">
    <input type="submit" value="Add a Skill" onclick="show('addSkill')">
    <div id="addHero" class="hideable">
      <h1>Add a Hero</h1>
      <form>
        Name:<input id="hName" type="text" required>
        Title:<input id="hTitle" type="text" required><br />
        Color:<select id="hColor" required>
          <option value="red">Red</option>
          <option value="blue">Blue</option>
          <option value="green">Green</option>
          <option value="colorless">Colorless</option>
        </select>
        Weapon Type:<select id="hWeaponType" required>
          <option value="melee">Melee</option>
          <option value="bow">Bow</option>
          <option value="staff">Staff</option>
          <option value="dagger">Dagger</option>
          <option value="beast">Beast</option>
          <option value="dragon">Dragon</option>
        </select>
        Move Type:<select id="hMoveType" required>
          <option value="infantry">Infantry</option>
          <option value="cavalry">Cavalry</option>
          <option value="armor">Armor</option>
          <option value="flier">Flier</option>
        </select>
        Lowest Available Rarity:<select id="hRarity" onchange="genHeroStatsFields()" required>
          <option value="5" selected>5 Stars Only</option>
          <option value="4">4 Stars</option>
          <option value="3">3 Stars</option>
          <option value="2">2 Stars</option>
          <option value="1">1 Star</option>
        </select>
        
        <h2>Asset locations</h2>
        Portrait:<input id="hPortrait" type="text" required>
        Main:<input id="hMain" type="text" required>
        
        <h2>Stats</h2>
        <table>
          <tr><th>Rank</th><th>HP</th><th>Atk</th><th>Spd</th><th>Def</th><th>Res</th></tr>
          <tbody id="hStatsBody"></tbody>
        </table>
        
        <h2>Skills</h2>
        Name:<input id="hsName" type="text" required>
        Rarity:<select id="hsRarity" required>
          <option value="5">5 Stars</option>
          <option value="4">4 Stars</option>
          <option value="3">3 Stars</option>
          <option value="2">2 Stars</option>
          <option value="1">1 Stars</option>
        </select> 
        <br />
        <input type="submit" value="Add Hero">
      </form>
    </div>
<!--------------------------------------------------------------------------------------------->
    <div id="addSkill" class="hideable">
      <h1>Add a Skill</h1>
      <form>
        Name:<input type="text" id="sName" required>
        Class:<select id="sClass">
          <option value="weapon">Weapon</option>
          <option value="assist">Assist</option>
          <option value="special">Special</option>
          <option value="a">A</option>
          <option value="b">B</option>
          <option value="c">C</option>
        </select>
        <div id="sIsWeapon">
          Color:<select id="sColor">
            <option value="red">Red</option>
            <option value="blue">Blue</option>
            <option value="green">Green</option>
            <option value="colorless">Colorless</option>
          </select>
          Asset location:<input type="text" id="sAsset" required>
          SP Cost:<input type="number" id="sSP" required>
          <h2>Stats</h2>
          HP:<input type="number" id="sHP">
          Atk:<input type="number" id="sAtk">
          Spd:<input type="number" id="sSpd">
          Def:<input type="number" id="sDef">
          Res:<input type="number" id="sRes">
          <br /><input type="checkbox" id="sRefineable">Refineable?
          <div id="sIsRefinable">
            <h2>Refines</h2>
            Refine type:<select id="sRefineType">
              <option value="Stones">Stones</option>
              <option value="Dew">Dew</option>
            </select>
            Refine Material Cost:<input type="number" id="sRefineCost">
            SP Cost:<input type="number" id="sRefineSP">
            <br /><input type="checkbox" id="sNewEffect">Has New Effect?
            New Effect:<input type="text" id="sNewEffect">
            <!--TODO: implement stats via javascript-->
            <!--Melee weapons give +5hp and +2atk or +3spd or +4def or +4res-->
            <!--Ranged weapons give +2hp and +1atk or +2spd or +3def or +3res-->
          </div>
        </div>
        <br /><input type="submit" value="Add skill">
      </form>
    </div>
  </body>
</html>
